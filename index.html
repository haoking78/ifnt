<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>IFNT Â· ç„¡é™ç¿»è½‰äººç”Ÿ v6.4.0-20251031-2</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0b2533">
  <style>
    :root {{
      --bg:#0b2533; --card:#10394d; --muted:#9ab7c4; --text:#ecf7fb; --accent:#2bd4c7;
      --ok:#14cc60; --bad:#ff5b6b; --chip:#0f455b;
    }}
    * {{box-sizing:border-box; font-family: system-ui, 'PingFang TC', 'Noto Sans TC', Helvetica, Arial, sans-serif;}}
    body {{ margin:0; background:radial-gradient(1000px 600px at 50% -200px,#194b63 0%,var(--bg) 60%); color:var(--text);}}
    header {{padding:18px 16px 8px; display:flex; align-items:center; gap:12px;}}
    header h1 {{margin:0; font-size:22px; font-weight:800;}}
    header .ver {{opacity:.7; font-weight:600; font-size:13px; margin-left:6px}}
    main {{padding:8px 12px 40px; max-width:1100px; margin:0 auto;}}
    .tabs {{display:flex; flex-wrap:wrap; gap:10px; margin:8px 0 16px;}}
    .tab {{padding:10px 16px; border-radius:999px; background:#0e3244; color:#b5d1dd; cursor:pointer; border:1px solid #17485f;}}
    .tab.active {{background:#1a5169; color:#fff; border-color:#2bd4c7;}}
    .card {{background:linear-gradient(180deg,#12394d,#0d2e3e); border:1px solid #1c4a60; border-radius:18px; padding:16px; margin:12px 0; box-shadow:0 8px 24px rgba(0,0,0,.25);}}
    .row {{display:grid; grid-template-columns:1fr 1fr; gap:12px;}}
    @media (max-width:820px) {{ .row {{grid-template-columns:1fr;}} }}
    label {{display:block; font-size:13px; color:var(--muted); margin:8px 6px;}}
    input, select, textarea {{width:100%; padding:14px 13px; border-radius:12px; border:1px solid #1b4b60; background:#0f3446; color:#fff; outline:none;}}
    textarea {{min-height:110px; resize:vertical;}}
    button {{padding:12px 16px; border-radius:12px; border:1px solid #1c4a60; background:#176078; color:#fff; cursor:pointer; font-weight:700;}}
    button.primary {{background:linear-gradient(180deg,#17b6a9,#0fa6cc);}}
    .kpi {{display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:10px;}}
    .kpi .box {{background:#0e3143; border:1px solid #1b4b60; border-radius:14px; padding:12px; text-align:center;}}
    .kpi .v {{font-size:22px; font-weight:800;}}
    .ok {{color:var(--ok)}} .bad{{color:var(--bad)}}
    .badge {{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background:#0f455b; border:1px solid #20607a; font-size:12px; font-weight:700;}}
    table {{width:100%; border-collapse:collapse; overflow:hidden; border-radius:14px; border:1px solid #1c4a60; margin-top:8px;}}
    th, td {{padding:12px 10px; border-bottom:1px solid #173f53; text-align:left; font-size:14px;}}
    th {{background:#11384b; color:#bfe4ee; font-weight:700;}}
    tr:last-child td {{border-bottom:none;}}
    .chips {{display:flex; gap:6px; flex-wrap:wrap; margin-top:8px;}}
    .chip {{padding:8px 10px; background:var(--chip); border:1px solid #2b6c84; border-radius:999px; font-size:12px; color:#cde6ef;}}
    .hint {{font-size:12px; color:#97b8c5;}}
  </style>
</head>
<body>
  <header>
    <img src="app_icon_192.png" alt="icon" width="28" height="28" style="border-radius:7px; border:1px solid #19536b; background:#0c2d3c;">
    <h1>IFNT Â· ç„¡é™ç¿»è½‰äººç”Ÿ</h1>
    <span class="ver">v6.4.0-20251031-2</span>
    <span class="badge" id="exportCsvBtn" style="margin-left:auto; cursor:pointer;">åŒ¯å‡º CSV</span>
  </header>
  <main>
    <div class="tabs">
      <div class="tab active" data-tab="recruit">â‘  æ‹›å‹Ÿ 1 äºº</div>
      <div class="tab" data-tab="bv">â‘¡ é›¶å”®ï¼‹è‡ªè³¼ 1500 BV</div>
      <div class="tab" data-tab="ibv">â‘¢ å®¶åº­è½‰ç§» 300 IBV</div>
      <div class="tab" data-tab="crm">â‘£ 312 äº’å‹•åå–®</div>
    </div>

    <!-- Recruit -->
    <section class="card" id="tab-recruit">
      <div class="row">
        <div>
          <label>æ—¥æœŸ</label>
          <input type="date" id="rcDate">
        </div>
        <div>
          <label>æ‹›å‹Ÿå§“å</label>
          <input id="rcName" placeholder="è¼¸å…¥å§“å">
        </div>
      </div>
      <div style="margin-top:12px; display:flex; gap:10px;">
        <button class="primary" id="addRecruit">æ–°å¢æ‹›å‹Ÿ</button>
        <span class="badge" id="rcBadge">ç´¯è¨ˆï¼š<b id="rcCount">0</b> / ç›®æ¨™ 1 <span id="rcHit"></span></span>
      </div>
      <table id="rcTable"><thead><tr><th>#</th><th>æ—¥æœŸ</th><th>å§“å</th><th>æ“ä½œ</th></tr></thead><tbody></tbody></table>
    </section>

    <!-- BV -->
    <section class="card" id="tab-bv" style="display:none">
      <div class="row">
        <div>
          <label>æ—¥æœŸ</label>
          <input type="date" id="bvDate">
        </div>
        <div>
          <label>é¡§å®¢å§“åï¼ˆå¯ç•™ç©ºæˆ–è¼¸å…¥ï¼‰</label>
          <input id="bvCustomer" list="nameList" placeholder="å¯ç•™ç©ºæˆ–è¼¸å…¥">
        </div>
      </div>
      <div class="row">
        <div>
          <label>é›¶å”®å“é …ï¼ˆè‡ªè¡Œè¼¸å…¥ï¼‰</label>
          <input id="bvItem" placeholder="ä¾‹å¦‚ï¼šå¹³æ³°ç§€ã€OPCã€NAD">
        </div>
        <div>
          <label>é›¶å”® BV</label>
          <input id="bvValue" type="number" min="0" step="1" placeholder="æ•¸å€¼">
        </div>
      </div>
      <div class="kpi" style="margin-top:10px">
        <div class="box"><div class="hint">å°è¨ˆ</div><div class="v" id="bvTotal">0</div></div>
        <div class="box"><div class="hint">è·é›¢ 1500</div><div class="v" id="bvRemain">1500</div></div>
        <div class="box"><div class="hint">ç‹€æ…‹</div><div class="v" id="bvStatus">æœªé”æ¨™</div></div>
        <div class="box"><div class="hint">å¾½ç« </div><div class="chips"><span class="badge" id="bvBadge" style="display:none">ğŸ‰ å·²é”æ¨™</span></div></div>
      </div>
      <div style="margin-top:12px;">
        <button class="primary" id="addBV">æ–°å¢ BV</button>
      </div>
      <table id="bvTable"><thead><tr><th>#</th><th>æ—¥æœŸ</th><th>å§“å</th><th>å“é …</th><th>BV</th><th>æ“ä½œ</th></tr></thead><tbody></tbody></table>
    </section>

    <!-- IBV -->
    <section class="card" id="tab-ibv" style="display:none">
      <div class="row">
        <div>
          <label>æ—¥æœŸ</label>
          <input type="date" id="ibvDate">
        </div>
        <div>
          <label>å§“åï¼ˆæˆ–è‡ªå·±ï¼‰</label>
          <input id="ibvName" list="nameList" placeholder="å¯ç•™ç©ºæˆ–è¼¸å…¥">
        </div>
      </div>
      <div class="row">
        <div>
          <label>æ¶ˆè²»å“é …ï¼ˆè‡ªè¡Œè¼¸å…¥ï¼‰</label>
          <input id="ibvItem" placeholder="ä¾‹å¦‚ï¼šä¿å¥ã€å®¶é›»ã€æ—¥ç”¨å“">
        </div>
        <div>
          <label>IBV</label>
          <input id="ibvValue" type="number" min="0" step="1" placeholder="æ•¸å€¼">
        </div>
      </div>
      <div class="kpi" style="margin-top:10px">
        <div class="box"><div class="hint">å°è¨ˆ</div><div class="v" id="ibvTotal">0</div></div>
        <div class="box"><div class="hint">è·é›¢ 300</div><div class="v" id="ibvRemain">300</div></div>
        <div class="box"><div class="hint">ç‹€æ…‹</div><div class="v" id="ibvStatus">æœªé”æ¨™</div></div>
        <div class="box"><div class="hint">å¾½ç« </div><div class="chips"><span class="badge" id="ibvBadge" style="display:none">ğŸ‰ å·²é”æ¨™</span></div></div>
      </div>
      <div style="margin-top:12px;">
        <button class="primary" id="addIBV">æ–°å¢ IBV</button>
      </div>
      <table id="ibvTable"><thead><tr><th>#</th><th>æ—¥æœŸ</th><th>å§“å</th><th>å“é …</th><th>IBV</th><th>æ“ä½œ</th></tr></thead><tbody></tbody></table>
    </section>

    <!-- CRM -->
    <section class="card" id="tab-crm" style="display:none">
      <div class="row">
        <div>
          <label>å±…ä½ç¸£å¸‚</label>
          <select id="crmCity"></select>
        </div>
        <div>
          <label>å§“åï¼ˆå¯é¸æ¸…å–®æˆ–è‡ªè¡Œè¼¸å…¥ï¼‰</label>
          <input id="crmName" list="nameList" placeholder="è¼¸å…¥æˆ–é¸æ“‡å§“å">
        </div>
      </div>
      <div class="row">
        <div>
          <label>æ—ç¾¤ / é—œä¿‚</label>
          <input id="crmGroup" list="groupList" placeholder="ä¾‹å¦‚ï¼šåŒäº‹ã€åŒå­¸ã€å®¢æˆ¶ã€è¦ªæˆš">
        </div>
        <div>
          <label>äº’å‹•æ—¥æœŸ</label>
          <input type="date" id="crmDate">
        </div>
      </div>
      <label>äº’å‹•æƒ…æ³ / å‚™è¨»ï¼ˆå¯è¼¸å…¥å¾ˆå¤šå…§å®¹ï¼‰</label>
      <textarea id="crmNote" placeholder="äº’å‹•å…§å®¹ã€éœ€æ±‚ã€è·Ÿé€²äº‹é …â€¦"></textarea>
      <div style="margin-top:12px; display:flex; gap:10px;">
        <button class="primary" id="addCRM">æ–°å¢ / ç´¯åŠ äº’å‹•</button>
        <button id="clearCRMRow" title="æ¸…ç©ºæ¬„ä½">æ¸…ç©ºæ¬„ä½</button>
      </div>

      <div class="card" style="margin-top:16px;">
        <h3 style="margin:0 0 8px;">ğŸ” äº’å‹•åå–®æœå°‹ / ç¯©é¸</h3>
        <div class="row">
          <div><label>ç¸£å¸‚</label><select id="fCity"></select></div>
          <div><label>å§“åï¼ˆé—œéµå­—æˆ–ä¸‹æ‹‰ï¼‰</label><input id="fName" list="nameList" placeholder="è¼¸å…¥é—œéµå­—æˆ–é¸æ“‡"></div>
        </div>
        <div class="row">
          <div><label>æ—ç¾¤ï¼ˆé—œéµå­—æˆ–ä¸‹æ‹‰ï¼‰</label><input id="fGroup" list="groupList" placeholder="è¼¸å…¥é—œéµå­—æˆ–é¸æ“‡"></div>
          <div><label>å‚™è¨»é—œéµå­—</label><input id="fKeyword" placeholder="åœ¨å‚™è¨»ä¸­æœå°‹å­—è©"></div>
        </div>
        <div class="row">
          <div><label>èµ·å§‹æ—¥</label><input type="date" id="fFrom"></div>
          <div><label>çµæŸæ—¥</label><input type="date" id="fTo"></div>
        </div>
        <div style="margin-top:10px; display:flex; gap:8px;">
          <button id="applyFilter">å¥—ç”¨ç¯©é¸</button>
          <button id="resetFilter">æ¸…ç©ºç¯©é¸</button>
        </div>
      </div>

      <table id="crmTable">
        <thead><tr><th>#</th><th>ç¸£å¸‚</th><th>å§“å</th><th>æ—ç¾¤</th><th>æœ€è¿‘äº’å‹•æ—¥</th><th>æ¬¡æ•¸</th><th>æ“ä½œ</th></tr></thead>
        <tbody></tbody>
      </table>
      <datalist id="nameList"></datalist>
      <datalist id="groupList"></datalist>
    </section>
  </main>
  <script src="app.js"></script>
</body>
</html>
